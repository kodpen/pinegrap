function mr_parallax(){"use strict";function e(){var e,t=0;return i()?(t=jQuery(".viu").find("nav:first").outerHeight(!0),("absolute"===(e=jQuery(".viu").find("nav:first").css("position"))||"fixed"===e)&&(t=0)):t=jQuery(document).find("nav:first").outerHeight(!0),t}function t(){if(j){for(var e=l.length,r=o();e--;)n(l[e],r,d,m);j=!1}h&&(((E+=-p*function(e,t,n,o){var r=e-1;return r/=o,e/=o,n*(--e*e*e*e*e+1)+t-(n*(--r*r*r*r*r+1)+t)}(w,0,y,T))>x||-x>E)&&(H.scrollBy(0,E),E=0),++w>T&&(w=0,h=!1,!0,p=0,0,0,E=0)),s(t)}function n(e,t,n,o){i()?t+c-f>e.elemTop&&t-f<e.elemBottom&&(e.isFirstSection?e.imageHolder.style[u]=n+t/2+o:e.imageHolder.style[u]=n+(t-e.elemTop-f)/2+o):t+c>e.elemTop&&t<e.elemBottom&&(e.isFirstSection?e.imageHolder.style[u]=n+t/2+o:e.imageHolder.style[u]=n+(t+c-e.elemTop)/2+o)}function o(){return H!=window?H.scrollTop:0===document.documentElement.scrollTop?document.body.scrollTop:document.documentElement.scrollTop}function r(){j=!0}function a(e){e.preventDefault,p=e.notRealWheel?-e.deltaY/4:1==e.deltaMode?-e.deltaY/3:100===Math.abs(e.deltaY)?-e.deltaY/120:-e.deltaY/40,p=(p=-g>p?-g:p)>g?g:p,h=!0,w=v}function i(){return void 0!==window.mr_variant}var l,s=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,u=function(e){for(var t=0;t<e.length;t++)if(void 0!==document.body.style[e[t]])return e[t];return null}(["transform","msTransform","webkitTransform","mozTransform","oTransform"]),d="translate3d(0,",m="px,0)",c=Math.max(document.documentElement.clientHeight,window.innerHeight||0),f=0,h=!1,w=0,p=0,g=2,v=4,y=300,x=1,T=30,E=0,H=window,j=(i(),!1),M=this;jQuery(document).ready(function(){M.documentReady()}),jQuery(window).load(function(){M.windowLoad()}),this.getScrollingState=function(){return w>0},this.documentReady=function(e){return c=Math.max(document.documentElement.clientHeight,window.innerHeight||0),jQuery("body").hasClass("parallax-2d")&&(d="translate(0,",m="px)"),/Android|iPad|iPhone|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent||navigator.vendor||window.opera)?jQuery(".parallax").removeClass("parallax"):s&&(M.profileParallaxElements(),M.setupParallax()),function(e){return e&&"[object Function]"==={}.toString.call(e)}(e)?void e():void 0},this.windowLoad=function(){c=Math.max(document.documentElement.clientHeight,window.innerHeight||0),f=e(),window.mr_parallax.profileParallaxElements()},this.setupParallax=function(){i()&&(void 0!==(H=jQuery(".viu").get(0))&&(H.scrollBy=function(e,t){this.scrollTop+=t,this.scrollLeft+=e})),void 0!==H&&(H.addEventListener("scroll",r,!1),window.addWheelListener(H,a,!1),window.addEventListener("resize",function(){c=Math.max(document.documentElement.clientHeight,window.innerHeight||0),f=e(),M.profileParallaxElements()},!1),t())},this.profileParallaxElements=function(){l=[],f=e();var t=i(),n=".parallax > .background-image-holder, .parallax ul.slides > li > .background-image-holder";t&&(n=".viu .parallax > .background-image-holder, .viu .parallax ul.slides > li > .background-image-holder"),jQuery(n).each(function(e){var n=jQuery(this).closest(".parallax"),r=t?n.position().top:n.offset().top;l.push({section:n.get(0),outerHeight:n.outerHeight(),elemTop:r,elemBottom:r+n.outerHeight(),isFirstSection:!!n.is(":nth-of-type(1)"),imageHolder:jQuery(this).get(0)}),t?t&&(n.is(":nth-of-type(1)")?M.mr_setTranslate3DTransform(jQuery(this).get(0),0===o()?0:o()/2):M.mr_setTranslate3DTransform(jQuery(this).get(0),(o()-r-f)/2)):n.is(":nth-of-type(1)")?M.mr_setTranslate3DTransform(jQuery(this).get(0),0===o()?0:o()/2):M.mr_setTranslate3DTransform(jQuery(this).get(0),(o()+c-r)/2)})},this.mr_setTranslate3DTransform=function(e,t){e.style[u]=d+t+m}}window.mr_parallax=new mr_parallax,function(e,t){function n(t,n,i,l){t[o](a+n,"wheel"==r?i:function(t){!t&&(t=e.event);var n={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,deltaZ:0,notRealWheel:1,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1}};return"mousewheel"==r?(n.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(n.deltaX=-.025*t.wheelDeltaX)):n.deltaY=t.detail/3,i(n)},l||!1)}var o,r,a="";e.addEventListener?o="addEventListener":(o="attachEvent",a="on"),r="onwheel"in t.createElement("div")?"wheel":void 0!==t.onmousewheel?"mousewheel":"DOMMouseScroll",e.addWheelListener=function(e,t,o){n(e,r,t,o),"DOMMouseScroll"==r&&n(e,"MozMousePixelScroll",t,o)}}(window,document);