var software_$=jQuery.noConflict(!0);function change_quick_add_product_id(e){var t,a,o;e&&(t=quick_add_products[e][0],a=quick_add_products[e][1],o=quick_add_products[e][2]),document.getElementById("quick_add_ship_to_row")&&(document.getElementById("quick_add_ship_to_row").style.display="none"),document.getElementById("quick_add_add_name_row")&&(document.getElementById("quick_add_add_name_row").style.display="none"),document.getElementById("quick_add_quantity_row")&&(document.getElementById("quick_add_quantity_row").style.display="none"),document.getElementById("quick_add_amount_row")&&(document.getElementById("quick_add_amount_row").style.display="none"),1==o&&(document.getElementById("quick_add_ship_to_row").style.display="",document.getElementById("quick_add_add_name_row").style.display=""),"quantity"==t&&(document.getElementById("quick_add_quantity").value=a,document.getElementById("quick_add_quantity_row").style.display=""),"donation"==t&&(document.getElementById("quick_add_amount_row").style.display="")}function software_initialize_dynamic_ad_region(e,t,a,o,i,r){software_$(document).ready(function(){var s=software_$("#software_ad_region_"+e+" .items > div"),n=software_$("#software_ad_region_"+e+" .items"),_=software_$("#software_ad_region_"+e+" .items_container").css("overflow","hidden");function d(o){var i=software_$("#software_ad_region_"+e+" .menu").find('a[href$="'+o.id+'"]').get(0);"slide"==t?software_update_current_ad_menu_item(i):software_fade_ads(i,e,a)}if(software_$("#software_ad_region_"+e+" .caption").css({display:"block",position:"absolute","z-index":"0","filter:alpha":"(opacity=0)","-moz-opacity":"0","-khtml-opacity":"0",opacity:"0",width:"100%"}),"slide"==t){s.css({float:"left",position:"relative"}),n.css("width",s[0].offsetWidth*s.length),software_$("#software_ad_region_"+e+" .menu").find("a").click(function(){software_update_current_ad_menu_item(this)}),software_$("#software_ad_region_"+e+" .previous").click(function(){_.trigger("prev")}),software_$("#software_ad_region_"+e+" .next").click(function(){_.trigger("next")}),window.location.hash?d({id:window.location.hash.substr(1)}):software_$("#software_ad_region_"+e+" ul.menu a:first").click();var l=software_$("#software_ad_region_"+e+" .menu a.current")[0].href.substr(software_$("#software_ad_region_"+e+" .menu a.current")[0].href.lastIndexOf("#")+1);document.getElementById(l+"_caption")&&software_$("#"+l+"_caption").animate({opacity:1},a,function(){software_$("#"+l+"_caption").css("z-index","1")});var f=-1*parseInt(n.css("paddingTop")||0);0==a&&(a=500);var c={target:_,items:s,navigation:".menu a",axis:"x",onBefore:function(t,o){var i=o.id;document.getElementById(i+"_caption")&&software_$("#"+i+"_caption").animate({opacity:1},a,function(){software_$("#"+i+"_caption").css("z-index","1")}),software_$("#software_ad_region_"+e+" .caption").each(function(){1==software_$(this).css("z-index")&&software_$(this).animate({opacity:0},a,function(){software_$(this).css("z-index","0")})})},onAfter:d,offset:f,duration:a,easing:"swing",constant:!1};software_$("#software_ad_region_"+e).serialScroll(c)}else software_$("#software_ad_region_"+e+" .menu").css({"z-index":"2"}),software_$("#software_ad_region_"+e+" .previous").css({"z-index":"2"}),software_$("#software_ad_region_"+e+" .next").css({"z-index":"2"}),software_$("#software_ad_region_"+e+" .items_container .item").css({position:"absolute",top:"0px",left:"0px","z-index":"0",float:"none","filter:alpha":"(opacity=0)","-moz-opacity":"0","-khtml-opacity":"0",opacity:"0"}),software_$("#software_ad_region_"+e+" .menu").find("a").click(function(t){t.preventDefault(),software_fade_ads(this,e,a)}),software_$("#software_ad_region_"+e+" .previous").click(function(){"current"==software_$("#software_ad_region_"+e+" ul.menu li:first-child a").attr("class")?d({id:software_$("#software_ad_region_"+e+" ul.menu li:last-child a").attr("href").substr(1)}):d({id:software_$(software_$("#software_ad_region_"+e+" ul.menu a.current")[0].parentNode).prev("li")[0].firstChild.href.substr(software_$(software_$("#software_ad_region_"+e+" ul.menu a.current")[0].parentNode).prev("li")[0].firstChild.href.lastIndexOf("#")+1)})}),software_$("#software_ad_region_"+e+" .next").click(function(){"current"==software_$("#software_ad_region_"+e+" ul.menu li:last-child a").attr("class")?d({id:software_$("#software_ad_region_"+e+" ul.menu a:first-child").attr("href").substr(1)}):d({id:software_$(software_$("#software_ad_region_"+e+" ul.menu a.current")[0].parentNode).next("li")[0].firstChild.href.substr(software_$(software_$("#software_ad_region_"+e+" ul.menu a.current")[0].parentNode).next("li")[0].firstChild.href.lastIndexOf("#")+1)})}),window.location.hash?(software_$("#software_ad_region_"+e+" .items_container #"+window.location.hash.substr(1)).css({"filter:alpha":"(opacity=1)","-moz-opacity":"1","-khtml-opacity":"1",opacity:"1"}),d({id:window.location.hash.substr(1)})):(software_$(software_$("#software_ad_region_"+e+" .items_container .item")[0]).css({"filter:alpha":"(opacity=1)","-moz-opacity":"1","-khtml-opacity":"1",opacity:"1"}),d({id:software_$("#software_ad_region_"+e+" ul.menu a:first")[0].href.substr(software_$("#software_ad_region_"+e+" ul.menu a:first")[0].href.lastIndexOf("#")+1)}));if(1==o){var w=setInterval(function(){"slide"==t?_.trigger("next"):"current"==software_$("#software_ad_region_"+e+" ul.menu li:last-child a").attr("class")?d({id:software_$("#software_ad_region_"+e+" ul.menu a:first-child").attr("href").substr(1)}):d({id:software_$(software_$("#software_ad_region_"+e+" ul.menu a.current")[0].parentNode).next("li")[0].firstChild.href.substr(software_$(software_$("#software_ad_region_"+e+" ul.menu a.current")[0].parentNode).next("li")[0].firstChild.href.lastIndexOf("#")+1)}),"current"==software_$("#software_ad_region_"+e+" ul.menu li:last-child a").attr("class")&&0==r&&("fade"==t&&setTimeout("software_fade_ads('', '"+e+"', "+a+");",1e3*i),clearInterval(w))},1e3*i),u=software_$("#software_ad_region_"+e+" .menu").find("a").add("#software_ad_region_"+e+" .items_container").add("#software_ad_region_"+e+" .previous").add("#software_ad_region_"+e+" .next");u.bind("click.cycle",function(){u.unbind("click.cycle"),clearInterval(w)})}})}function software_fade_ads(e,t,a){e&&""!=e||(e=software_$("#software_ad_region_"+t+" ul.menu a:first")[0]);var o=e.href.substr(e.href.lastIndexOf("#")+1),i=0;software_$("#software_ad_region_"+t+" .menu a.current")[0]&&(i=software_$("#software_ad_region_"+t+" .menu a.current")[0].href.substr(software_$("#software_ad_region_"+t+" .menu a.current")[0].href.lastIndexOf("#")+1)),software_update_current_ad_menu_item(e),0==a&&(a=1e3),software_$("#software_ad_region_"+t+" .items_container #"+o).animate({opacity:1},a,function(){software_$("#software_ad_region_"+t+" .items_container #"+o).css("z-index","1"),1!=software_$.browser.msie||7!=parseInt(software_$.browser.version,10)&&8!=parseInt(software_$.browser.version,10)||"transparent"!=software_$(this).css("background-color")||"none"!=software_$(this).css("background-image")||software_$(this).css("filter","")}),document.getElementById(o+"_caption")&&software_$("#"+o+"_caption").animate({opacity:1},a,function(){software_$("#"+o+"_caption").css("z-index","1")}),software_$("#software_ad_region_"+t+" .items_container #"+i).animate({opacity:0},a,function(){software_$("#software_ad_region_"+t+" .items_container #"+i).css("z-index","0")}),document.getElementById(i+"_caption")&&software_$("#"+i+"_caption").animate({opacity:0},a,function(){software_$("#"+i+"_caption").css("z-index","0")})}function software_update_current_ad_menu_item(e){software_$(e).parents("ul:first").find("a").removeClass("current").end().end().addClass("current")}function prepare_content_for_html(e){e=String(e);for(var t=new Array("&","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�",'"',"�","<",">","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�"),a=new Array("amp","agrave","aacute","acirc","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","euro","quot","szlig","lt","gt","cent","pound","curren","yen","brvbar","sect","uml","copy","ordf","laquo","not","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34"),o=0;o<t.length;o++)myRegExp=new RegExp,myRegExp.compile(t[o],"g"),e=e.replace(myRegExp,"&"+a[o]+";");return e}software_$(document).ready(function(){if(software_$("input[name=payment_gateway_installment_option]").length){var e=software_$("#card_number");function t(){var e=$("#card_number").val().substring(0,7);if($("input[name=total_with_surcharge]").length)var t=$("input[name=total_with_surcharge]").val();else t=$("input[name=total]").val();e.length>=7?($(".installment-row").attr("style",""),software_$.ajax({contentType:"application/json",url:software_path+software_directory+"/api.php",data:JSON.stringify({action:"get_installment_options",card:e,price:t}),type:"POST",success:function(e){console.log(e),"1"==e.two_supported?($("#twoinstallment").attr("style",""),$("#twoinstallment .installment_prices_here").html(e.monthlytwo+" x 2 <br/>"+e.totaltwo)):$("#twoinstallment").attr("style","display:none;"),"1"==e.three_supported?($("#threeinstallment").attr("style",""),$("#threeinstallment .installment_prices_here").html(e.monthlythree+" x 3 <br/>"+e.totalthree)):$("#threeinstallment").attr("style","display:none;"),"1"==e.six_supported?($("#sixinstallment").attr("style",""),$("#sixinstallment .installment_prices_here").html(e.monthlysix+" x 6 <br/> "+e.totalsix)):$("#sixinstallment").attr("style","display:none;"),"1"==e.nine_supported?($("#nineinstallment").attr("style",""),$("#nineinstallment .installment_prices_here").html(e.monthlynine+" x 9 <br/>"+e.totalnine)):$("#nineinstallment").attr("style","display:none;"),"1"==e.twelve_supported?($("#twelveinstallment").attr("style",""),$("#twelveinstallment .installment_prices_here").html(e.monthlytwelve+" x 12 <br/>"+e.totaltwelve)):$("#twelveinstallment").attr("style","display:none;")}})):$(".installment-row").attr("style","display:none")}e.length&&t(),$(".installment_box").click(function(){$(this).find("input").prop("checked",!0),$(this).find("input:radio[name=installment]").each(function(){var e=JSON.parse(localStorage.getItem("radio_installment_"+this.id));e&&(this.checked=e.checked),localStorage.setItem("radio_installment_"+this.id,JSON.stringify({checked:this.checked}))})}),$("#card_number").on("change paste keyup",function(){e.length&&(t(),$("input:radio[name=installment][value=1]").prop("checked",!0))})}software.init_accordions(),software.init_tabs();var a=software_$("#software_fullscreen_toggle");if(a.length){var o=software_$("#software_toolbar"),i=!1;a.hasClass("up_button")&&(o.on("load",function(){var e=0,t=setInterval(function(){e++,void 0!==o[0].contentWindow.loaded&&1==o[0].contentWindow.loaded?(o.css({visibility:"hidden",display:"block"}),o.height(o.contents().find("body").height()),o.css({display:"none",visibility:"visible"}),o.slideDown("fast"),clearInterval(t)):e>=1e3&&clearInterval(t)},25)}),i=!0),software_$(window).resize(function(){o.is(":visible")&&o.height(o.contents().find("body").height())}),a.click(function(){if(o.is(":visible"))o.slideUp("fast"),a.removeClass("up_button"),a.addClass("down_button"),a.prop("title","Deactivate Fullscreen Mode (Ctrl+D | ⌘+D)");else if(void 0!==o[0].contentWindow.loaded&&1==o[0].contentWindow.loaded)o.css({visibility:"hidden",display:"block"}),o.height(o.contents().find("body").height()),o.css({visibility:"visible",display:"none"}),o.slideDown("fast"),a.removeClass("down_button"),a.addClass("up_button"),a.prop("title","Activate Fullscreen Mode (Ctrl+D | ⌘+D)");else var e=0,t=setInterval(function(){e++,void 0!==o[0].contentWindow.loaded&&1==o[0].contentWindow.loaded?(o.css({visibility:"hidden",display:"block"}),o.height(o.contents().find("body").height()),o.css({visibility:"visible",display:"none"}),o.slideDown("fast"),a.removeClass("down_button"),a.addClass("up_button"),a.prop("title","Activate Fullscreen Mode (Ctrl+D | ⌘+D)"),clearInterval(t)):e>=1e3&&clearInterval(t)},25)}),software_$(window).on("beforeunload",function(){var e=!1;a.hasClass("up_button")&&(e=!0),e!=i&&software_$.ajax({contentType:"application/json",url:software_path+software_directory+"/api.php",data:JSON.stringify({action:"update_toolbar_properties",token:software_token,enabled:e}),type:"POST",async:!1})}),software_$(window).bind("keydown",function(e){if(e.ctrlKey||e.metaKey)switch(String.fromCharCode(e.which).toLowerCase()){case"d":e.preventDefault(),a.trigger("click");break;case"e":var t=software_$("#grid_toggle");t.length&&(e.preventDefault(),setTimeout(function(){t.click()},0));break;case"g":var i=o.contents().find(".page_designer_button");i.length&&(e.preventDefault(),setTimeout(function(){i[0].click()},0));break;case"s":var r=software_$("#software_inline_editing_save_button");r.is(":visible")&&(e.preventDefault(),r.trigger("click"))}})}if(document.getElementById("viewport")){var r=!1,s=document.getElementById("viewport");navigator.userAgent.match(/iPhone/i)&&(s.setAttribute("content","width=device-width,minimum-scale=1.0,maximum-scale=1.0,initial-scale=1.0"),window.addEventListener("gesturestart",function(){clearTimeout(r),s.setAttribute("content","width=device-width,minimum-scale=1.0,maximum-scale=10.0")},!1),window.addEventListener("touchend",function(){clearTimeout(r),r=setTimeout(function(){s.setAttribute("content","width=device-width,minimum-scale=1.0,maximum-scale=1.0,initial-scale=1.0")},1e3)},!1))}"undefined"!=typeof software_kiosk&&1==software_kiosk&&software.kiosk.init()});var software_edit_image_button_timer=Array;function software_show_or_hide_image_edit_button(e,t){if(clearTimeout(software_edit_image_button_timer[e]),image=document.getElementById(e),"mouseover"==t.type){if(!software_$(".software_photo_gallery_album")[0]){if("relative"!=image.offsetParent.style.position){var a=image.offsetParent.style.position;image.offsetParent.style.position="relative";var o=image.offsetParent.offsetLeft+image.offsetLeft,i=image.offsetParent.offsetTop+image.offsetTop;image.offsetParent.style.position=a}else o=image.offsetLeft,i=image.offsetTop;document.getElementById("software_edit_button_for_"+e).style.left=o+"px",document.getElementById("software_edit_button_for_"+e).style.top=i+"px"}document.getElementById("software_edit_button_for_"+e).style.display="block"}else"mouseout"==t.type&&(software_edit_image_button_timer[e]=setTimeout('software_$(document.getElementById("software_edit_button_for_'+e+'")).slideUp("fast");',250))}function software_initialize_edit_region_dialog(){var e=software_$("#software_edit_region_dialog");e.dialog({autoOpen:!1,modal:!0,dialogClass:"standard",open:function(){var t=750,a=587,o=software_$(window).width(),i=software_$(window).height();.75*o>=t&&(t=.75*o),.75*i>=a&&(a=.75*i),e.dialog("option","width",t),e.dialog("option","height",a),e.dialog("option","position","center"),software_$(".ui-dialog-titlebar-close").css("display","none")},close:function(){"latest"==software_editor_version?CKEDITOR.instances.software_edit_region_textarea.destroy():tinyMCE.execCommand("mceRemoveControl",!1,"software_edit_region_textarea"),document.getElementById("software_edit_region_textarea").value=""},resize:function(){var e=software_$(".standard.ui-dialog");"previous"==software_editor_version&&software_$("#software_edit_region_dialog #software_edit_region_textarea_ifr").css({width:parseInt(e.width()-60),height:parseInt(e.height()-240)})}})}function software_open_edit_region_dialog(e,t,a,o){software_$("#software_edit_region_dialog").dialog("open");var i="";switch(t){case"pregion":i="Page Region #"+o;break;case"cregion":i="Common Region: "+a;break;case"system_region_header":i="System Region Header";break;case"system_region_footer":i="System Region Footer"}software_$("#software_edit_region_dialog")[0].parentNode.firstChild.firstChild.innerHTML='<table class="title_bar_table"><tr><td style="width: 33%;">Rich-text Editor</td><td style="width: 33%; text-align: center;">'+i+'</td><td style="width: 33%; text-align: right"></td></tr></table>',software_$("#software_edit_region_dialog #region_id")[0].value=e,software_$("#software_edit_region_dialog #region_type")[0].value=t,""!=o&&(document.getElementById("region_order").value=o),document.getElementById("software_edit_region_textarea").value=software_$.ajax({type:"GET",url:software_path+software_directory+"/get_region_content.php",data:"page_id="+software_$("#software_edit_region_dialog #page_id")[0].value+"&region_id="+e+"&region_type="+t,async:!1}).responseText,"latest"==software_editor_version?(software_ckeditor_config.height="400px",software_ckeditor_config.startupFocus=!0,CKEDITOR.replace("software_edit_region_textarea",software_ckeditor_config)):tinyMCE.execCommand("mceAddControl",!1,"software_edit_region_textarea")}function software_activate_edit_region_dialog(){var e=software_$(".standard.ui-dialog");software_$("#software_edit_region_dialog #software_edit_region_textarea_ifr").css({width:parseInt(e.width()-60),height:parseInt(e.height()-240)})}function software_init_photo_gallery(e){software_$(e).each(function(e){var t=this[0],a=software_$(".software_photo_gallery_album #"+t)[0];software_$(a).mouseover(function(){software_$(a).addClass("image_hover")}),software_$(a).mouseout(function(){software_$(a).removeClass("image_hover")}),"album"==t.substr(0,t.lastIndexOf("_"))&&(setTimeout(function(){software_$(software_$(software_$(".software_photo_gallery_album #"+t)[0].parentNode).find("#album_frame_1")[0]).css("width",software_$(a).outerWidth(!0)),software_$(software_$(software_$(".software_photo_gallery_album #"+t)[0].parentNode).find("#album_frame_1")[0]).css("height",software_$(a).outerHeight(!0)),software_$(software_$(software_$(".software_photo_gallery_album #"+t)[0].parentNode).find("#album_frame_2")[0]).css("width",software_$(a).outerWidth(!0)),software_$(software_$(software_$(".software_photo_gallery_album #"+t)[0].parentNode).find("#album_frame_2")[0]).css("height",software_$(a).outerHeight(!0))},250),software_$(a).click(function(){var e=this.id.substr(this.id.lastIndexOf("_")+1);window.location=software_path+software_page_name+"?folder_id="+e}))}),software_$(".software_photo_gallery_album .photo a.link").lightBox()}function software_change_verified_country(){if(document.getElementById("verified_state_container").style.display="none",document.getElementById("verified_address_container").style.display="none",document.getElementById("verified_message").style.display="none",document.getElementById("verified_summary").style.display="none",document.getElementById("verified_button").style.display="none",""!=document.getElementById("verified_country_id").value){document.getElementById("verified_state_id").options.length=0,document.getElementById("verified_state_id").options[document.getElementById("verified_state_id").length]=new Option("","");var e=!1;for(i=0;i<software_verified_states.length;i++)software_verified_states[i].country_id==document.getElementById("verified_country_id").value&&(document.getElementById("verified_state_id").options[document.getElementById("verified_state_id").length]=new Option(software_verified_states[i].name,software_verified_states[i].id),e=!0);1==e?document.getElementById("verified_state_container").style.display="":(document.getElementById("verified_message").innerHTML="Sorry, we don't have any verified addresses for that Country.",document.getElementById("verified_message").style.color="red",document.getElementById("verified_message").style.display="")}}function software_change_verified_state(){if(document.getElementById("verified_address_container").style.display="none",document.getElementById("verified_message").style.display="none",document.getElementById("verified_summary").style.display="none",document.getElementById("verified_button").style.display="none",""!=document.getElementById("verified_state_id").value){document.getElementById("verified_address_id").options.length=0,document.getElementById("verified_address_id").options[document.getElementById("verified_address_id").length]=new Option("","");var e=!1;for(i=0;i<software_verified_addresses.length;i++)software_verified_addresses[i].state_id==document.getElementById("verified_state_id").value&&(document.getElementById("verified_address_id").options[document.getElementById("verified_address_id").length]=new Option(software_verified_addresses[i].label,software_verified_addresses[i].id),e=!0);1==e?document.getElementById("verified_address_container").style.display="":(document.getElementById("verified_message").innerHTML="Sorry, we don't have any verified addresses for that State.",document.getElementById("verified_message").style.color="red",document.getElementById("verified_message").style.display="")}}function software_change_verified_address(){if(document.getElementById("verified_message").style.display="none",document.getElementById("verified_summary").style.display="none",document.getElementById("verified_button").style.display="none",""!=document.getElementById("verified_address_id").value){for(i=0;i<software_verified_addresses.length;i++)if(software_verified_addresses[i].id==document.getElementById("verified_address_id").value){var e=software_verified_addresses[i].company,t=software_verified_addresses[i].address_1,a=software_verified_addresses[i].address_2,o=software_verified_addresses[i].city,r=software_verified_addresses[i].state_code,s=software_verified_addresses[i].zip_code,n=(software_verified_addresses[i].country_code,software_verified_addresses[i].country_name);break}var _="";""!=e&&(_+=prepare_content_for_html(e)+"<br />"),_+=prepare_content_for_html(t)+"<br />",""!=a&&(_+=prepare_content_for_html(a)+"<br />"),_+=prepare_content_for_html(o)+", "+prepare_content_for_html(r)+" "+prepare_content_for_html(s)+"<br />"+prepare_content_for_html(n),document.getElementById("verified_summary").innerHTML=_,document.getElementById("verified_summary").style.display="",document.getElementById("verified_button").style.display=""}}function software_use_verified_address(){for(i=0;i<software_verified_addresses.length;i++)if(software_verified_addresses[i].id==document.getElementById("verified_address_id").value){var e=software_verified_addresses[i].company,t=software_verified_addresses[i].address_1,a=software_verified_addresses[i].address_2,o=software_verified_addresses[i].city,r=software_verified_addresses[i].state_code,s=software_verified_addresses[i].zip_code,n=software_verified_addresses[i].country_code;break}document.getElementById("company").value=e,document.getElementById("address_1").value=t,document.getElementById("address_2").value=a,document.getElementById("city").value=o,document.getElementById("zip_code").value=s,document.getElementById("country").value=n,software_$("#country").trigger("change"),software_$("[name=state]").val(r),document.getElementById("verified_button").style.display="none",document.getElementById("verified_address_id").value="",document.getElementById("verified_message").innerHTML="The shipping address fields have been updated with:",document.getElementById("verified_message").style.color="",document.getElementById("verified_message").style.display=""}var software={Base64:{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,a,o,i,r,s,n,_="",d=0;for(e=this._utf8_encode(e);d<e.length;)i=(t=e.charCodeAt(d++))>>2,r=(3&t)<<4|(a=e.charCodeAt(d++))>>4,s=(15&a)<<2|(o=e.charCodeAt(d++))>>6,n=63&o,isNaN(a)?s=n=64:isNaN(o)&&(n=64),_=_+this._keyStr.charAt(i)+this._keyStr.charAt(r)+this._keyStr.charAt(s)+this._keyStr.charAt(n);return _},decode:function(e){var t,a,o,i,r,s,n="",_=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");_<e.length;)t=this._keyStr.indexOf(e.charAt(_++))<<2|(i=this._keyStr.indexOf(e.charAt(_++)))>>4,a=(15&i)<<4|(r=this._keyStr.indexOf(e.charAt(_++)))>>2,o=(3&r)<<6|(s=this._keyStr.indexOf(e.charAt(_++))),n+=String.fromCharCode(t),64!=r&&(n+=String.fromCharCode(a)),64!=s&&(n+=String.fromCharCode(o));return n=this._utf8_decode(n)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0;a<e.length;a++){var o=e.charCodeAt(a);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},_utf8_decode:function(e){for(var t="",a=0,o=c1=c2=0;a<e.length;)(o=e.charCodeAt(a))<128?(t+=String.fromCharCode(o),a++):o>191&&o<224?(c2=e.charCodeAt(a+1),t+=String.fromCharCode((31&o)<<6|63&c2),a+=2):(c2=e.charCodeAt(a+1),c3=e.charCodeAt(a+2),t+=String.fromCharCode((15&o)<<12|(63&c2)<<6|63&c3),a+=3);return t}},get_rot13:function(e){return e?e.replace(/[a-zA-Z]/g,function(e){return String.fromCharCode((e<="Z"?90:122)>=(e=e.charCodeAt(0)+13)?e:e-26)}):""},h:function(e){return e=(e=(e=(e=e.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")},init_accordions:function(e){void 0===e&&(e="ul.list-accordion, ol.list-accordion"),software_$(e).each(function(){var e=software_$(this);if(e.hasClass("ui-accordion"))return!0;e.children("li").each(function(){var e=software_$(this),t=e.find("a:first");t.remove(),e.find(":first").filter("br").remove(),e.wrapInner('<div class="item_content" />'),t.addClass("item_heading"),e.prepend(t)}),e.accordion({active:".list-accordion-expanded",collapsible:!0,autoHeight:!1,header:"a.item_heading"})})},init_add_comment:function(e){var t=e.comment_label,a=software_$(".add_comment_form textarea");a.one("keyup",function(){var e=!1;software_$(".add_comment_form").submit(function(){return e=!0,!0}),software_$(window).on("beforeunload",function(){if(!e&&a.val())return"WARNING: If you leave this page, then your "+t+" will NOT be added."})})},init_add_comment_publish:function(){var e=software_$("#publish"),t=software_$("#publish_date_and_time"),a=software_$(".publish_schedule");"schedule"==e.val()&&(a.fadeIn(),t.datetimepicker({dateFormat:date_picker_format,timeFormat:"h:mm TT"})),e.change(function(){"schedule"==e.val()?(a.fadeIn(),t.datetimepicker({dateFormat:date_picker_format,timeFormat:"h:mm TT"}),t.focus()):a.fadeOut()})},init_auto_dialogs:function(e){var t=e.visit_length,a=e.auto_dialogs,o=e.preview;return!function(){try{return window.self!==window.top}catch(e){return!0}}()&&(!software_$("body").hasClass("disable_auto_dialogs")&&void software_$.each(a,function(e,a){if(software_$("body").hasClass("disable_auto_dialog_"+a.id))return!0;if(o)var i=0;else i=a.delay-t;i<=0&&(i=1),i*=1e3,setTimeout(function(){var e={url:a.url},t=parseInt(a.width);t&&(e.width=t);var i=parseInt(a.height);if(i&&(e.height=i),e.class_name="auto_dialog auto_dialog_"+a.id,software.open_dialog(e),!o){Date.now||(Date.now=function(){return(new Date).getTime()});var r=Math.floor(Date.now()/1e3);document.cookie="software[auto_dialog_"+a.id+"]="+r+"; expires=Tue, 01 Jan 2030 06:00:00 GMT; path=/"}},i)}))},init_billing_same_as_shipping:function(e){var t=e.id;software_$("#billing_same_as_shipping").change(function(){this.checked&&(software_$("[name=billing_salutation]").val(software_$("[name=shipping_"+t+"_salutation]").val()),software_$("[name=billing_first_name]").val(software_$("[name=shipping_"+t+"_first_name]").val()),software_$("[name=billing_last_name]").val(software_$("[name=shipping_"+t+"_last_name]").val()),software_$("[name=billing_company]").val(software_$("[name=shipping_"+t+"_company]").val()),software_$("[name=billing_address_1]").val(software_$("[name=shipping_"+t+"_address_1]").val()),software_$("[name=billing_address_2]").val(software_$("[name=shipping_"+t+"_address_2]").val()),software_$("[name=billing_city]").val(software_$("[name=shipping_"+t+"_city]").val()),software_$("[name=billing_country]").val(software_$("[name=shipping_"+t+"_country]").val()),software_$("[name=billing_country]").trigger("change"),software_$("[name=billing_state]").val(software_$("[name=shipping_"+t+"_state]").val()),software_$("[name=billing_zip_code]").val(software_$("[name=shipping_"+t+"_zip_code]").val()),software_$("[name=billing_phone_number]").val(software_$("[name=shipping_"+t+"_phone_number]").val()))})},init_country:function(e){var t=e.country_id,a=e.state_text_box_id,o=e.state_pick_list_id,i=e.zip_code_id,r=software.countries,s=!0,n=software_$("#"+t),_=software_$('label[for="'+a+'"]'),d=software_$("#"+a),l=software_$('label[for="'+o+'"]'),f=software_$("#"+o),c=d.attr("name"),w=software_$("#"+i),u=software_$("#"+i+"_required");n.change(function(){var e=n.val();e&&r[e].states?(f.empty(),f.append('<option value=""></option>'),software_$.each(r[e].states,function(e,t){f.append('<option value="'+software.h(t.code)+'">'+software.h(t.name)+"</option>")}),s&&f.val(d.val()),d.attr("name",""),f.attr("name",c),n.attr("required")&&f.attr("required",!0),_.fadeOut(function(){l.fadeIn()}),d.fadeOut(function(){f.fadeIn()})):(s||d.val(""),d.attr("name",c),f.attr("name",""),f.attr("required",!1),l.fadeOut(function(){_.fadeIn()}),f.fadeOut(function(){d.fadeIn()})),n.attr("required")&&e&&1==r[e].zip?(w.attr("required",!0),u.fadeIn()):(w.attr("required",!1),u.fadeOut()),s=!1}),n.trigger("change")},init_currency:function(){software_$("#currency_id").change(function(){this.form.submit()})},init_custom_arrival_date:function(e){var t=e.radio_field_id,a=e.date_field_id;software_$("#"+a).datepicker({dateFormat:date_picker_format}),software_$("#"+t).click(function(){"checked"==software_$(this).attr("checked")&&software_$("#"+a).focus()}),software_$("#"+a).change(function(){0!=software_$.trim(software_$(this).val()).length&&software_$("#"+t).attr("checked","checked")})},init_email_preferences:function(){var e=software_$(".contact_groups");if(e.length){var t=software_$("input[name=opt_in]");t.change(function(){t.is(":checked")?e.fadeIn():e.fadeOut()}),t.trigger("change")}},init_menu:function(e){var t=e.name,a=e.effect,o=e.first_level_popup_position,i=e.second_level_popup_position,r=software_$("#software_menu_"+t);1!=r.hasClass("software_menu_"+a)&&(r.find("*").off(),"popup"==a?(software_$("#software_menu_"+t+" ul").css({position:"absolute",display:"none",visibility:"visible"}),software_$("#software_menu_"+t+" li").css({display:"inline-block"}),software_$("#software_menu_"+t+" li").hover(function(){software_$(this).addClass("on"),software_$(this).children("a").addClass("on");var e=software_$(this).children("ul");if(0!=e.length){if(1==software_$(this).hasClass("top_level"))var t=o;else t=i;switch(t){case"top":e.css({left:"0",top:"-"+e.outerHeight()+"px"});break;case"bottom":e.css({left:"0",top:software_$(this).outerHeight()+"px"});break;case"left":e.css({left:"-"+e.outerWidth()+"px",top:"0"});break;case"right":e.css({left:software_$(this).outerWidth()+"px",top:"0"})}var a=this;setTimeout(function(){1==software_$(a).hasClass("on")&&(software_$(a).css({"z-index":"4"}),e.slideDown(200))},100)}},function(){software_$(this).removeClass("on"),software_$(this).children("a").removeClass("on");var e=software_$(this).children("ul");if(0!=e.length){var t=this;setTimeout(function(){0==software_$(t).hasClass("on")&&(software_$(t).css({"z-index":"0"}),e.slideUp(200))},250)}}),software_$("#software_menu_"+t+" li a").focus(function(){var e=software_$(this).parent();e.addClass("on"),software_$(this).addClass("on");var t=e.children("ul");if(0!=t.length){if(1==e.hasClass("top_level"))var a=o;else a=i;switch(a){case"top":t.css({left:"0",top:"-"+t.outerHeight()+"px"});break;case"bottom":t.css({left:"0",top:e.outerHeight()+"px"});break;case"left":t.css({left:"-"+t.outerWidth()+"px",top:"0"});break;case"right":t.css({left:e.outerWidth()+"px",top:"0"})}setTimeout(function(){1==e.hasClass("on")&&(e.css({"z-index":"4"}),t.slideDown(200))},100)}}),software_$("#software_menu_"+t+" li").focusout(function(){var e=software_$(this);setTimeout(function(){if(0==e.find(":focus").length){e.removeClass("on"),e.children("a").removeClass("on");var t=e.children("ul");0!=t.length&&setTimeout(function(){0==e.hasClass("on")&&(e.css({"z-index":"0"}),t.slideUp(200))},250)}},0)}),r.removeClass("software_menu_accordion"),r.addClass("software_menu_popup")):"accordion"==a&&(software_$("#software_menu_"+t+" ul").css({display:"none",position:"static",top:"0",left:"0"}),software_$("#software_menu_"+t+" li").css({display:"block"}),software_$("#software_menu_"+t+" li:has(ul) > a").click(function(e){e.preventDefault();var a=software_$(this),o=a.parent(),i=o.hasClass("expanded"),r=software_$("#software_menu_"+t+" li.expanded:not(:has(#"+o.attr("id")+"))").first();r.length&&r.children("ul").slideUp("fast",function(){r.find("ul").hide(),r.removeClass("expanded"),r.find("li").removeClass("expanded"),r.find("a").removeClass("expanded")}),0==i&&o.children("ul").slideDown("fast",function(){o.addClass("expanded"),a.addClass("expanded")})}),software_$("#software_menu_"+t+" li:has(ul):has(.current)").each(function(){var e=software_$(this);e.children("ul").slideDown("fast",function(){e.addClass("expanded"),e.children("a").addClass("expanded")})}),r.removeClass("software_menu_popup"),r.addClass("software_menu_accordion")))},init_form_list_view:function(e){var t=e.page_id,a=e.dynamic_fields,o=software_$("#"+t+"_browse_field_id"),i=software_$("#"+t+"_query"),r=software_$("#"+t+"_advanced"),s=software_$(".software_form_list_view .page_"+t+" .advanced_toggle"),n=software_$(".software_form_list_view .page_"+t+" .advanced_toggle .expand_label"),_=software_$(".software_form_list_view .page_"+t+" .advanced_toggle .collapse_label"),d=software_$(".software_form_list_view .page_"+t+" .advanced");if(o.length){var l=software_$("#"+t+"_browse_field_id option:selected").val(),f=l,c=software_$(".software_form_list_view .page_"+t+" .browse_toggle");o.change(function(){var e=software_$("#"+t+"_browse_field_id option:selected").val();i.length&&(i[0].value="",i.addClass("default")),s.length&&"true"==r[0].value?(r[0].value="false",d.slideUp("slow",function(){software_$(".software_form_list_view .page_"+t).removeClass("advanced_expanded"),_.hide(),n.show(),s[0].title="Add Advanced Search",""!=e?c.show():c.hide(),""!=l?software_$(".software_form_list_view .page_"+t+" .browse_filter_container.field_"+l).slideUp("slow",function(){""!=e?(software_$(".software_form_list_view .page_"+t+" .browse_filter_container.field_"+e).slideDown("slow"),software_$(".software_form_list_view .page_"+t).addClass("browse_expanded")):software_$(".software_form_list_view .page_"+t).removeClass("browse_expanded")}):""!=e?(software_$(".software_form_list_view .page_"+t+" .browse_filter_container.field_"+e).slideDown("slow"),software_$(".software_form_list_view .page_"+t).addClass("browse_expanded")):software_$(".software_form_list_view .page_"+t).removeClass("browse_expanded"),l=e})):(""!=e?c.show():c.hide(),""!=l?software_$(".software_form_list_view .page_"+t+" .browse_filter_container.field_"+l).slideUp("slow",function(){""!=e?(software_$(".software_form_list_view .page_"+t+" .browse_filter_container.field_"+e).slideDown("slow"),software_$(".software_form_list_view .page_"+t).addClass("browse_expanded")):(software_$(".software_form_list_view .page_"+t).removeClass("browse_expanded"),""!=f&&software_$(".software_form_list_view .browse_and_search_form.page_"+t).submit())}):""!=e?(software_$(".software_form_list_view .page_"+t+" .browse_filter_container.field_"+e).slideDown("slow"),software_$(".software_form_list_view .page_"+t).addClass("browse_expanded")):software_$(".software_form_list_view .page_"+t).removeClass("browse_expanded"),l=e)}),c.click(function(){return c.hide(),o.val(""),software_$(".software_form_list_view .page_"+t+" .browse_filter_container.field_"+l).slideUp("slow",function(){software_$(".software_form_list_view .page_"+t).removeClass("browse_expanded"),""!=f&&software_$(".software_form_list_view .browse_and_search_form.page_"+t).submit()}),l="",!1})}if(i.length&&(""==i[0].value&&i.addClass("default"),i[0].onfocus=function(){o.length&&""!=l&&(c.hide(),o.val(""),software_$(".software_form_list_view .page_"+t+" .browse_filter_container.field_"+l).slideUp("slow",function(){software_$(".software_form_list_view .page_"+t).removeClass("browse_expanded")}),l=""),""==i[0].value&&i.removeClass("default")},i[0].onblur=function(){""==i[0].value&&i.addClass("default")},s.length)){var w=!1;if("true"==r[0].value&&(w=!0),s.click(function(){return"false"==r[0].value?(r[0].value="true",o.length&&""!=l?(c.hide(),o.val(""),software_$(".software_form_list_view .page_"+t+" .browse_filter_container.field_"+l).slideUp("slow",function(){software_$(".software_form_list_view .page_"+t).removeClass("browse_expanded"),software_$(".software_form_list_view .page_"+t).addClass("advanced_expanded"),n.hide(),_.show(),s[0].title="Remove Advanced Search",d.slideDown("slow")}),l=""):(software_$(".software_form_list_view .page_"+t).addClass("advanced_expanded"),n.hide(),_.show(),s[0].title="Remove Advanced Search",d.slideDown("slow"))):(r[0].value="false",_.hide(),n.show(),s[0].title="Add Advanced Search",d.slideUp("slow",function(){software_$(".software_form_list_view .page_"+t).removeClass("advanced_expanded"),1==w&&software_$(".software_form_list_view .browse_and_search_form.page_"+t).submit()})),!1}),!software_$.isEmptyObject(a)){function u(){var e=[];software_$.each(a,function(a,o){var i=software_$(".software_form_list_view .page_"+t+" #"+o.html_field_name).val();if(void 0===i||""==i)return!0;var r=[];software_$.each(o.filters,function(e,t){if(t.name==i)return r=t.forms.slice(),!1}),e.push({name:o.name,html_field_name:o.html_field_name,filter:i,matched_forms:r})}),software_$.each(a,function(a,o){var i=[];if(0==e.length||1==e.length&&e[0].name==o.name)i=o.filters.slice();else{var r=[],s=!0;software_$.each(e,function(e,t){if(t.name==o.name)return!0;if(s)r=t.matched_forms.slice();else for(e=r.length;e--;){var a=r[e],i=!1;software_$.each(t.matched_forms,function(e,t){if(a==t)return i=!0,!1}),0==i&&r.splice(e,1)}s=!1}),software_$.each(o.filters,function(e,t){software_$.each(t.forms,function(e,a){if(-1!=software_$.inArray(a,r))return i.push(t),!1})})}if(i.length){var n=software_$(".software_form_list_view .page_"+t+" #"+o.html_field_name),_=n.val();n.empty();var d=software_$(".software_form_list_view .page_"+t+" ."+o.html_field_name+"_clear");""!=_&&d.length||n.append('<option value=""></option>'),software_$.each(i,function(e,t){n.append('<option value="'+software.h(t.name)+'">'+software.h(t.name)+"</option>")}),n.val(_),d.length&&(d.hide(),d.unbind("click"),""!=_&&(d.click(function(){n.prepend('<option value=""></option>'),n.val(""),n.trigger("change")}),d.show())),software_$(".software_form_list_view .page_"+t+" ."+o.html_field_name+"_row").fadeIn(400,function(){$(this).show()})}else software_$(".software_form_list_view .page_"+t+" ."+o.html_field_name+"_row").fadeOut(400,function(){$(this).hide()})})}u(),software_$(".software_form_list_view .page_"+t+" .dynamic").change(function(){u()})}}},init_payment_method:function(){var e=software_$("input[name=card_number]"),t=!1;if(e.length){t=!0;var a=software_$("input[name=expiration]"),o=software_$("input[name=cardholder]"),i=software_$("input[name=card_verification_number]")}var r=software_$(".purchase_button");if(r.is("input"))var s=r.val();else s=r.html();function n(){var t=software_$("input[type=hidden][name=payment_method]").val();if(t||(t=software_$("input[type=radio][name=payment_method]:checked").val()),"Credit/Debit Card"==t?(software_$(".credit_debit_card").slideDown(),e.prop("required",!0),a.prop("required",!0),o.length&&o.prop("required",!0),i.length&&i.prop("required",!0),software_$(".surcharge_row").length&&(software_$(".total_row").slideUp(),software_$(".surcharge_row").slideDown(),software_$(".surcharge_total_row").slideDown())):(software_$(".credit_debit_card").slideUp(),e.prop("required",!1),a.prop("required",!1),o.length&&o.prop("required",!1),i.length&&i.prop("required",!1),software_$(".surcharge_row").length&&(software_$(".surcharge_row").slideUp(),software_$(".surcharge_total_row").slideUp(),software_$(".total_row").slideDown())),"PayPal Express Checkout"==t)var s=r.attr("data-paypal-label");else s=r.attr("data-label");r.is("input")?r.val(s):r.html(s)}if(r.attr("data-label",s),software_$("input[type=radio][name=payment_method]").click(function(){n()}),n(),t){if(e.payment("formatCardNumber"),a.length)a.payment("formatCardExpiry"),a.closest("form").submit(function(){var e=a.val();e=e.replace(/\s+/g,""),a.val(e)});i.length&&i.payment("formatCardCVC")}},init_product_attributes:function(e){software_$(".software_catalog_detail .image:first").not(".cross-sell .image").hide(),software_$(".software_catalog_detail .short_description:first").html("").hide(),software_$(".software_catalog_detail .price:first").html("").hide(),software_$(".software_catalog_detail .full_description").html("").hide(),software_$(".software_catalog_detail .details").html("").hide(),software_$(".software_catalog_detail .code").html("").hide();var t=e.attributes,a=e.products,o=e.default_image_name,i=e.default_short_description,r=e.default_full_description,s=e.default_details,n=e.default_code,_=e.discounted_product_prices,d=e.visitor_currency_symbol,l=e.visitor_currency_exchange_rate,f=e.visitor_currency_code_for_output,c=0,w="",u="",p="",m="",g="",h="";function v(e){e=e||1;var y=[];software_$.each(t,function(e,t){if(0==t.enabled)return!0;var o=software_$("[name=attribute_"+t.id+"]").val();if(""==o)return!0;var i=0;software_$.each(t.options,function(e,t){if(t.id==o)return 1==t.no_value&&(i=1),!1});var r=[];software_$.each(a,function(e,a){var s=!1,n=!1;software_$.each(a.attributes,function(e,a){if(a.id==t.id&&(n=!0,a.option_id==o))return s=!0,!1}),0==s&&0==n&&1==i&&(s=!0),1==s&&r.push(a)}),y.push({id:t.id,option_id:o,no_value:i,matched_products:r})});var $=[];if(0==y.length)$=a.slice();else{var b=!0;software_$.each(y,function(e,t){if(1==b)$=t.matched_products.slice();else for(e=$.length;e--;){var a=$[e],o=!1;software_$.each(t.matched_products,function(e,t){if(a.id==t.id)return o=!0,!1}),0==o&&$.splice(e,1)}b=!1})}var k=!1;if(software_$.each(t,function(e,a){var o=[];if(0==y.length||1==y.length&&y[0].id==a.id)o=a.options.slice();else{var i=[],r=!0;software_$.each(y,function(e,t){if(t.id==a.id)return!0;if(1==r)i=t.matched_products.slice();else for(e=i.length;e--;){var o=i[e],s=!1;software_$.each(t.matched_products,function(e,t){if(o.id==t.id)return s=!0,!1}),0==s&&i.splice(e,1)}r=!1}),o=[];var s=!1;software_$.each(a.options,function(e,t){software_$.each(i,function(e,i){var r=!1;if(1==t.no_value){var n=!1;software_$.each(i.attributes,function(e,o){if(o.option_id==t.id)return r=!0,!1;o.id==a.id&&(n=!0)}),0==r&&0==n&&(r=!0)}else software_$.each(i.attributes,function(e,a){if(a.option_id==t.id)return r=!0,!1});if(1==r)return o.push(t),1!=t.no_value&&(s=!0),!1})}),0==s&&(o=[])}var n=a.enabled;if(o.length>0){t[e].enabled=!0;var _=software_$("[name=attribute_"+a.id+"]");if(0==n)var d="";else d=_.val();var l=!1,f=!1;software_$.each(o,function(e,t){t.id==a.default_option_id&&(l=!0),t.id==d&&(f=!0)});var c=software_$(".attribute_"+a.id+" select");if(c.length){c.empty(),0==f&&0==l&&c.append('<option value=""></option>'),software_$.each(o,function(e,t){c.append('<option value="'+t.id+'">'+software.h(t.label)+"</option>")}),c.val(d);var w=software_$(".attribute_"+a.id+" .clear");w.hide(),w.unbind("click"),""!=d&&d!=a.default_option_id&&(w.click(function(){1==l?c.val(a.default_option_id):(c.prepend('<option value=""></option>'),c.val("")),c.trigger("change")}),w.show())}else software_$.each(a.options,function(e,t){var a=software_$(".option_"+t.id);software.find(o,"id",t.id)?(t.id==d?a.addClass("selected"):a.removeClass("selected"),a.fadeIn()):a.fadeOut()}),_.val(d);software_$(".attribute_"+a.id+".attribute_row").fadeIn(),1==o.length&&d!=o[0].id&&0==a.unselected?(c.length?c.val(o[0].id):(software_$(".option_"+o[0].id).addClass("selected"),_.val(o[0].id)),k=!0):0==f&&1==l&&(c.length?c.val(a.default_option_id):(software_$(".option_"+a.default_option_id).addClass("selected"),_.val(a.default_option_id)),k=!0)}else t[e].enabled=!1,software_$(".attribute_"+a.id+".attribute_row").fadeOut();n!=t[e].enabled&&(k=!0)}),1==k&&e<5)v(e+1);else{1==$.length?software_$(".product_id").val($[0].id):software_$(".product_id").val("");var x=software_$(".software_catalog_detail .image:first").not(".cross-sell .image");if(x.length){if(1==$.length&&""!=$[0].image_name)var I=$[0].image_name;else I=o;I!=w&&(""!=I?x.fadeOut(function(){x.attr("src",software_path+encodeURI(I))}).fadeIn():x.fadeOut(),w=I)}var C=software_$(".software_catalog_detail .short_description:first");if(C.length){if(1==$.length&&""!=$[0].short_description)var E=$[0].short_description;else E=i;E!=u&&(""!=E?C.fadeOut(function(){C.html(software.h(E)),C.trigger("content_change")}).fadeIn():C.fadeOut(function(){C.html(""),C.trigger("content_change")}),u=E)}if(1==$.length&&$[0].id!=c){var O=$[0];software_$.ajax({contentType:"application/json",url:software_path+software_directory+"/api.php",data:JSON.stringify({action:"get_product",product:{id:O.id}}),type:"POST",success:function(e){if(""!=(O=e.product).full_description&&"<p></p>"!=O.full_description)var t=O.full_description;else t=r;if(1==O.inventory&&0==O.inventory_quantity&&""!=O.out_of_stock_message&&"<p></p>"!=O.out_of_stock_message&&(t+=" "+O.out_of_stock_message),(t=t.replace(/{path}/g,software_path))!=m&&(software_$(".software_catalog_detail .full_description").fadeOut(function(){software_$(this).html(t),software_$(this).trigger("content_change"),software.init_accordions(".software_catalog_detail .full_description ul.list-accordion, .software_catalog_detail .full_description ol.list-accordion"),software.init_tabs(".software_catalog_detail .full_description ul.list-tabs, .software_catalog_detail .full_description ol.list-tabs")}).fadeIn(),m=t),""!=O.details&&"<p></p>"!=O.details)var a=O.details;else a=s;if((a=a.replace(/{path}/g,software_path))!=g&&(software_$(".software_catalog_detail .details").fadeOut(function(){software_$(this).html(a),software_$(this).trigger("content_change"),software.init_accordions(".software_catalog_detail .details ul.list-accordion, .software_catalog_detail .details ol.list-accordion"),software.init_tabs(".software_catalog_detail .details ul.list-tabs, .software_catalog_detail .details ol.list-tabs")}).fadeIn(),g=a),""!=O.code)var o=O.code;else o=n;(o=o.replace(/{path}/g,software_path))!=h&&(software_$(".software_catalog_detail .code").fadeOut(function(){software_$(this).html(o),software_$(this).trigger("content_change")}).fadeIn(),h=o),c=O.id}})}else if(1!=$.length&&(0!=c||""==m&&""==g&&""==h)){var B=r;B!=m&&(software_$(".software_catalog_detail .full_description").fadeOut(function(){software_$(this).html(B),software_$(this).trigger("content_change"),software.init_accordions(".software_catalog_detail .full_description ul.list-accordion, .software_catalog_detail .full_description ol.list-accordion"),software.init_tabs(".software_catalog_detail .full_description ul.list-tabs, .software_catalog_detail .full_description ol.list-tabs")}).fadeIn(),m=B);var T=s;T!=g&&(software_$(".software_catalog_detail .details").fadeOut(function(){software_$(this).html(T),software_$(this).trigger("content_change"),software.init_accordions(".software_catalog_detail .details ul.list-accordion, .software_catalog_detail .details ol.list-accordion"),software.init_tabs(".software_catalog_detail .details ul.list-tabs, .software_catalog_detail .details ol.list-tabs")}).fadeIn(),g=T);var S=n;S!=h&&(software_$(".software_catalog_detail .code").fadeOut(function(){software_$(this).html(S),software_$(this).trigger("content_change")}).fadeIn(),h=S),c=0}var D="";if($.length>0){var q=0,z=0,A=!0,R=0,N=!1,U=0;if(software_$.each($,function(e,t){if("donation"==t.selection_type)return!0;R++;var a=parseInt(t.price);_[t.id]&&(N=!0,U=a,a=parseInt(_[t.id])),1==A?(q=a,z=a,A=!1):(a<q&&(q=a),a>z&&(z=a))}),R>0)if(q==z)if(1==R&&1==N){U=(U/100*l).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");var L=(q/100*l).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");D='<span style="text-decoration: line-through; white-space: nowrap">'+d+U+f+'</span>                                <span style="white-space: nowrap" class="software_discounted_price">'+d+L+f+"</span>"}else{var j="";1==N&&(j=' class="software_discounted_price"');var M=(q/100*l).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");D='<span style="white-space: nowrap"'+j+">"+d+M+f+"</span>"}else{var H="",P="";1==N&&(H='<span class="software_discounted_price">',P="</span>");var F=(q/100*l).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,"),K=(z/100*l).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");D=H+'<span style="white-space: nowrap">'+d+F+'</span> -                                 <span style="white-space: nowrap">'+d+K+f+"</span>"+P}}var W=software_$(".software_catalog_detail .price:first");if(""!=D?D!=p&&(W.fadeOut(function(){W.html(D)}).fadeIn(),p=D):(W.fadeOut(function(){W.html("")}),p=""),software.matched_products=$,software_$("body").trigger("attribute_update"),software_$(".edit_mode").length){if(!software_$(".attribute_helper").length){var J=software_$('<div class="attribute_helper" style="border: 2px #69A823 solid; margin: 2.5em .5em 1em .5em">                            <div class="title" style="background-color: #69A823; color: white; padding: .25em .5em">Attribute Helper: <span class="number_of_products"></span> &nbsp;<span class="arrow">&#9660;</span></div>                            <div class="products" style="display: none; background-color: white; padding: .25em .5em">                                <table style="width: 100%">                                    <tbody></tbody>                                </table>                            </div>                        </div>');software_$(".software_catalog_detail").prepend(J),software_$(".attribute_helper .title").css("cursor","pointer"),software_$(".attribute_helper .title").click(function(){software_$(".attribute_helper .products").is(":visible")?(software_$(".attribute_helper .products").slideUp(),software_$(".attribute_helper .arrow").html("&#9660;")):(software_$(".attribute_helper .products").slideDown(),software_$(".attribute_helper .arrow").html("&#9650;"))})}var G="";1!=$.length&&(G="s"),software_$(".attribute_helper .title .number_of_products").html($.length+" product"+G+" matched"),software_$(".attribute_helper .products tbody").html(""),software_$.each($,function(e,t){var a=software.h(t.name);""!=t.short_description&&(""!=a&&(a+=" - "),a+=software.h(t.short_description)),software_$(".attribute_helper .products tbody").append('<tr class="product_'+t.id+'" style="color: #69A823; cursor: pointer">                            <td style="padding: .15em; text-align: left; vertical-align: middle">'+a+'</td>                            <td style="padding: .15em; text-align: left; vertical-align: middle">'+t.relative_time+"</td>                        </tr>"),software_$(".attribute_helper .products .product_"+t.id).click(function(){window.location.href=software_path+software_directory+"/edit_product.php?id="+t.id+"&send_to="+software.h(encodeURIComponent(window.location.pathname+window.location.search))})})}}}software_$.each(t,function(e,a){var o=software_$(".attribute_"+a.id+" select");o.length?o.change(function(){""==o.val()?t[e].unselected=!0:t[e].unselected=!1,v()}):software_$.each(a.options,function(o,i){var r=software_$(".option_"+i.id);r.click(function(){r.hasClass("selected")?(r.removeClass("selected"),software_$("[name=attribute_"+a.id+"]").val(""),t[e].unselected=!0):(r.addClass("selected"),software_$("[name=attribute_"+a.id+"]").val(i.id),t[e].unselected=!1),v()})})}),v()},init_quick_add:function(){software_$("#quick_add_product_id").change(function(){change_quick_add_product_id(this.options[this.selectedIndex].value)});var e=software_$("#quick_add_quantity").val();software_$("#quick_add_product_id").trigger("change"),software_$("#quick_add_quantity").val(e)},init_share_comment:function(e){var t=e.comment_label;software_$(".comment .share").click(function(){var e=.75*software_$(window).width(),a=software_$(this).attr("data-id"),o=window.location.href.split("#")[0]+"#c-"+a,i=(new Date).getTime(),r=software_$('<div                    id="software_dialog_'+i+'"                    style="display: none; padding: 1em"                >                    <div style="margin-bottom: 1em">                        <input type="text" style="width: 100%" value="'+software.h(o)+'">                    </div>                                        <div>                        <button class="copy software_button_small_primary btn btn-sm btn-primary">                            Copy to Clipboard                        </button>&nbsp;                        <button class="cancel software_button_small_secondary btn btn-sm btn-default btn-secondary">                            Cancel                        </button>                    </div>                </div>');software_$("body").append(r),software_$("#software_dialog_"+i).dialog({autoOpen:!0,open:function(){var e=software_$(".share_comment input");e[0].select(),e.click(function(){this.select()}),software_$(".share_comment .copy").click(function(){e[0].select(),document.execCommand("copy"),software_$("#software_dialog_"+i).dialog("close")}),software_$(".share_comment .cancel").click(function(){software_$("#software_dialog_"+i).dialog("close")}),software_$(".ui-widget-overlay").bind("click",function(){software_$("#software_dialog_"+i).dialog("close")})},close:function(){software_$("#software_dialog_"+i).remove(),software_$("#software_dialog_"+i+"_container").remove()},dialogClass:"software mobile_dialog share_comment",modal:!0,title:"Share "+software.h(t),width:e,show:{effect:"fade"},hide:{effect:"fade"}})})},init_shipping:function(e){var t=e.ship_to_id,a=e.prefix,o=e.selected_method_id,i=software_$("#"+a+"message");i.hide();var r=software_$("#"+a+"method_heading");r.hide();var s=software_$("#"+a+"methods");if(s.hide(),s.is("table"))var n=software_$("tbody",s);else n=s;var _,d=software_$(".method_row",s).prop("outerHTML"),l="";function f(){var e=software_$("[name="+a+"address_1]").val(),_=software_$("[name="+a+"state]"),f=_.val(),c=software_$("[name="+a+"zip_code]"),w=c.val(),u=software_$("[name="+a+"country]").val();if(e&&u&&(f||!_.prop("required"))&&(w||!c.prop("required"))){var p=0,m="";if(software_$("[name="+a+"arrival_date]").length){if(!(p=software_$("[name="+a+"arrival_date]:checked").val()))return;var g=software_$("[name="+a+"custom_arrival_date_"+p+"]");if(g.length&&!(m=g.val()))return}var h=JSON.stringify({action:"get_shipping_methods",ship_to_id:t,address_1:e,state:f,zip_code:w,country:u,arrival_date_id:p,arrival_date:m});if(h!==l)l=h,software_$.ajax({contentType:"application/json",url:software_path+software_directory+"/api.php",data:h,type:"POST"}).done(function(e){i.fadeOut(),r.fadeOut(),s.fadeOut(function(){if("error"==e.status)return i.html(software.h(e.message)),void i.fadeIn();n.empty();var _=e.shipping_methods;function l(e){if(!software.gift_card_discount&&!software.surcharge){var a=software.find(_,"id",e);software.recipients=software.recipients||{},software.recipients[t]=software.recipients[t]||{},software.recipients[t].shipping_cost=a.cost,function(){var e=software_$(".shipping"),t=software_$(".total");if(!e.length||!t.length)return;var a=0;if(software_$.each(software.recipients,function(e,t){a+=t.shipping_cost}),a==software.shipping)return;software.shipping=a,e.fadeOut(function(){e.html(software.prepare_price({price:a})),e.fadeIn()});var o=software.total_without_shipping+a;t.fadeOut(function(){t.html(software.prepare_price({price:o})),t.fadeIn()});var i=software_$(".base_currency_total");i.length&&i.fadeOut(function(){i.html(software.prepare_price({symbol:software.base_currency_symbol,price:o,base_price:!0,code:software.base_currency_code})),i.fadeIn()});software_$("input[name=total]").val(o.toFixed(2))}()}}software_$.each(_,function(i,r){var s=software_$(d),f=software_$("input",s);if(f.prop("name",a+"method"),f.prop("value",r.id),r.id!=o&&1!=_.length||(f.prop("checked",!0),l(r.id)),f.prop("required",!0),software_$(".name",s).html(software.h(r.name)),software_$(".cost",s).html(r.cost_info),software_$(".description",s).html(software.h(r.description)),r.protected&&s.addClass("protected"),software_$(".delivery_date",s).hide(),n.append(s),"0000-00-00"!=e.arrival_date||!r.service||"ups"==r.service.substr(0,3))return!0;software_$.ajax({contentType:"application/json",url:software_path+software_directory+"/api.php",data:JSON.stringify({action:"get_delivery_date",ship_to_id:t,shipping_method:{id:r.id},zip_code:w,country:u,only_from_carrier:!0,formatted:!0}),type:"POST"}).done(function(e){e.delivery_date_info&&(software_$(".delivery_date_hide",s).fadeOut(),software_$(".date",s).html(e.delivery_date_info),software_$(".delivery_date",s).fadeIn())})}),software_$("[name="+a+"method]").change(function(){l(o=software_$("[name="+a+"method]:checked").val())}),r.fadeIn(),s.fadeIn()})})}}f(),software_$("[name="+a+"address_1],            #"+a+"state_text_box,            #"+a+"state_pick_list,            [name="+a+"zip_code],            [name="+a+"country],            [name="+a+"arrival_date],            [name^="+a+"custom_arrival_date]").change(f),software_$("[name="+a+"address_1],            #"+a+"state_text_box,            [name="+a+"zip_code],            [name^="+a+"custom_arrival_date]").on("input",function(){clearTimeout(_),_=setTimeout(f,2e3)})},tab_count:0,init_tabs:function(e){void 0===e&&(e="ul.list-tabs, ol.list-tabs"),software_$(e).each(function(){var e=software_$(this);if(e.parent().hasClass("software_list_tabs_container"))return!0;e.wrap('<div class="software_list_tabs_container" />'),e.children("li").each(function(){var t=software_$(this),a=t.find("a:first");a.remove(),t.find(":first").filter("br").remove();var o=t.html();t.empty(),software.tab_count++;var i="list_tab_item_"+software.tab_count;a.attr("href","#"+i),t.append(a),o='<div id="'+i+'" class="item_content">'+o+"</div>",e.parent().append(o)}),e.parent().tabs()})},inline_editing:{cancel:function(){for(var e=software.inline_editing.regions.length,t=0;t<e;t++){var a=software.inline_editing.regions[t].container_id;1==CKEDITOR.instances[a].checkDirty()&&(CKEDITOR.instances[a].setData(software.inline_editing.regions[t].content),CKEDITOR.instances[a].resetDirty(),CKEDITOR.instances[a].once("change",function(){software.inline_editing.show_buttons()}))}software_$("#software_inline_editing_confirmation").length&&software_$("#software_inline_editing_confirmation").remove(),software_$("body").append("                <div id=\"software_inline_editing_confirmation\" style=\"background-color: #edfced; border-bottom: 1px solid #428221; border-left: 1px solid #428221; border-right: 1px solid #428221; border-bottom-left-radius: 7px; border-bottom-right-radius: 7px; color: #428221; display: none; font-family: 'Lucida Grande','Lucida Sans Unicode','Lucida Sans',Lucida,Arial,Verdana,sans-serif; left: 0; margin-left: auto; margin-right: auto; padding: .5em; position: fixed; right: 0; text-align: center; top: 0; width: 40%; z-index: 2147483647\">                    <img src=\""+software_path+software_directory+'/images/icon_notice.png" width="16" height="16" alt="Notice" title="" style="margin-right: 7px; margin-bottom: 2px; vertical-align: middle" /><span style="font-size: 14px; font-weight: bold">Notice:</span> <span style="font-size: 13px">Your updates have been <strong>canceled</strong>.</span>                </div>'),software_$("#software_inline_editing_confirmation").slideDown("slow").delay(3e3).slideUp("slow",function(){software_$(this).remove()}),software_$("#software_inline_editing_buttons").hide("slide",{direction:"right"})},init_region:function(e){var t=e.container_id,a=e.type,o=e.id,i=e.order,r=e.collection,s=e.count;switch(a){case"page":software.inline_editing.regions.push({container_id:t,type:a,id:o,order:i,collection:r,count:s,content:document.getElementById(t).innerHTML});break;case"common":case"system_region_header":case"system_region_footer":software.inline_editing.regions.push({container_id:t,type:a,id:o,count:s,content:document.getElementById(t).innerHTML})}switch(software_$("#"+t).attr("contenteditable","true"),CKEDITOR.inline(t,software_ckeditor_config),CKEDITOR.instances[t].once("change",function(){software.inline_editing.show_buttons()}),a){case"page":var n="pregion";break;case"common":n="cregion";break;case"system_region_header":n="system_region_header";break;case"system_region_footer":n="system_region_footer"}CKEDITOR.instances[t].on("instanceReady",function(){software_$("#"+t).on("mouseenter","img[data-cke-saved-src]",function(){var e=software_$(this),t=e.attr("src");if(t.indexOf("/")>-1)var a=t.lastIndexOf("/"),i=t.substring(a+1).trim();else i=t.trim();var r=(i=decodeURIComponent(i)).split(".").pop().toLowerCase();if("gif"==r||"jpg"==r||"jpeg"==r||"png"==r){if(e.data("image_id"))s=e.data("image_id");else{var s=++software.inline_editing.last_image_id;e.data("image_id",s)}if(0==software_$("#software_image_editor_button_"+s).length){var _=software_$('<a href="'+software_path+software_directory+"/image_editor_edit.php?file_name="+prepare_content_for_html(encodeURIComponent(i))+"&amp;object_type="+n+"&amp;object_id="+o+"&amp;send_to="+prepare_content_for_html(encodeURIComponent(window.location.pathname+window.location.search))+'" id="software_image_editor_button_'+s+'" style="border: 0; left: '+e.offset().left+"px; margin: 0 0 0 1.5em; padding: .15em; position: absolute; text-decoration: none; top: "+e.offset().top+'px; z-index: 9" title="Edit Image ('+prepare_content_for_html(i)+') with Software Image Editor"><img src="'+software_path+software_directory+'/images/icon_image_editor.png" width="86" height="20" alt="Software Image Editor" /></a>').appendTo("body");_.on("mouseleave",function(){setTimeout(function(){0==e.is(":hover")&&0==_.is(":hover")&&_.remove()},0)})}}}),software_$("#"+t).on("mouseleave","img[data-cke-saved-src]",function(){var e=software_$(this),t=e.data("image_id"),a=software_$("#software_image_editor_button_"+t);a.length&&setTimeout(function(){0==e.is(":hover")&&0==a.is(":hover")&&a.remove()},0)})}),1==software.inline_editing.regions.length&&software_$(window).on("beforeunload",function(){for(var e=software.inline_editing.regions.length,t=0;t<e;t++){var a=software.inline_editing.regions[t].container_id;if(1==CKEDITOR.instances[a].checkDirty())return"WARNING: If you leave this page, then your unsaved changes will be lost."}})},last_image_id:0,regions:[],save:function(){software_$("#software_inline_editing_buttons").hide("slide",{direction:"right"}),software_$("#software_inline_editing_confirmation").length&&software_$("#software_inline_editing_confirmation").remove(),software_$("body").append('                <div id="software_inline_editing_confirmation" class="notice" style="background-color: #edfced; border-bottom: 1px solid #428221; border-left: 1px solid #428221; border-right: 1px solid #428221; border-bottom-left-radius: 7px; border-bottom-right-radius: 7px; color: #428221; display: none; font-family: \'Lucida Grande\',\'Lucida Sans Unicode\',\'Lucida Sans\',Lucida,Arial,Verdana,sans-serif; left: 0; margin-left: auto; margin-right: auto; padding: .5em; position: fixed; right: 0; text-align: center; top: 0; width: 40%; z-index: 2147483647">                    <img src="'+software_path+software_directory+'/images/icon_notice.png" width="16" height="16" alt="Notice" title="" style="margin-right: 7px; margin-bottom: 2px; vertical-align: middle" /><span style="font-size: 14px; font-weight: bold">Notice:</span> <span class="message" style="font-size: 13px">Saving... (please wait)</span>                </div>'),software_$("#software_inline_editing_confirmation").slideDown("slow");for(var e=[],t=software.inline_editing.regions.length,a=0;a<t;a++){var o=software.inline_editing.regions[a].container_id;1==CKEDITOR.instances[o].checkDirty()&&e.push(a)}var i=e.length;if(i>0)for(var r,s=0,n=0;n<i;n++){a=e[n],o=software.inline_editing.regions[a].container_id;var _="";switch(software.inline_editing.regions[a].type){case"page":var d="pregion",l=software.inline_editing.regions[a].order;_=software.inline_editing.regions[a].collection;break;case"common":d="cregion",l="";break;case"system_region_header":d="system_region_header",l="";break;case"system_region_footer":d="system_region_footer",l=""}var f=CKEDITOR.instances[o].getData();software_$.ajax({type:"POST",url:software_path+software_directory+"/save_region_content.php",data:{inline:"true",page_id:software_page_id,region_content:f,region_type:d,region_id:software.inline_editing.regions[a].id,region_order:l,collection:_,token:software_token},async:!0,index:a,complete:function(e,t){s++;var a=this.index,o=software.inline_editing.regions[a].container_id,n=!1;"success"!=t&&(n=!0,r=!0),0==n&&(CKEDITOR.instances[o].resetDirty(),software.inline_editing.regions[a].content=CKEDITOR.instances[o].getData()),s==i&&(1==r?(software_$("#software_inline_editing_confirmation").remove(),software_$("body").append('                                        <div id="software_inline_editing_confirmation" class="error" style="background-color: #fdd5ce; border-bottom: 2px solid red; border-left: 2px solid red; border-right: 2px solid red; border-bottom-left-radius: 7px; border-bottom-right-radius: 7px; color: red; display: none; font-family: \'Lucida Grande\',\'Lucida Sans Unicode\',\'Lucida Sans\',Lucida,Arial,Verdana,sans-serif; left: 0; margin-left: auto; margin-right: auto; padding: .5em; position: fixed; right: 0; text-align: center; top: 0; width: 50%; z-index: 2147483647">                                            <img src="'+software_path+software_directory+'/images/icon_error.png" width="16" height="16" alt="Error" title="" style="margin-right: 7px; margin-bottom: 2px; vertical-align: middle" /><span style="font-size: 14px; font-weight: bold">An error occurred:</span> <span style="font-size: 13px">Sorry, your updates could not be saved. Please try again later.</span>                                        </div>'),software_$("#software_inline_editing_confirmation").slideDown("slow").delay(6e3).slideUp("slow",function(){software_$(this).remove()}),software_$("#software_inline_editing_buttons").show("slide",{direction:"right"})):(software_$("#software_inline_editing_confirmation .message").html("Your updates have been <strong>saved</strong>."),software_$("#software_inline_editing_confirmation").delay(3e3).slideUp("slow",function(){software_$(this).remove()})))}}),CKEDITOR.instances[o].once("change",function(){software.inline_editing.show_buttons()})}},show_buttons:function(){0==software_$("#software_inline_editing_buttons").length&&(software_$("body").append('                    <div id="software_inline_editing_buttons" style="display: none; position: fixed; right: 0; top: 45%; z-index: 2147483647">                        <div id="software_inline_editing_save_button" style="background-color: black; border: 1px solid #629d1f; cursor: pointer; margin-bottom: 10px; padding: 5px" title="Save"><img src="'+software_path+software_directory+'/images/inline_save.png" width="25" height="25" alt="Save current page edits (Ctrl+S | &#8984;+S)." title="Save current page edits (Ctrl+S | &#8984;+S)." border="0" style="display: block"></div>                        <div id="software_inline_editing_cancel_button" style="background-color: black; border: 1px solid #629d1f; cursor: pointer; padding: 5px" title="Cancel"><img src="'+software_path+software_directory+'/images/inline_cancel.png" width="25" height="25" alt="Cancel current page edits." title="Cancel current page edits." border="0" style="display: block"></div>                    </div>'),software_$("#software_inline_editing_save_button").click(function(){software.inline_editing.save()}),software_$("#software_inline_editing_cancel_button").click(function(){software.inline_editing.cancel()})),"none"==software_$("#software_inline_editing_buttons").css("display")&&software_$("#software_inline_editing_buttons").show("slide",{direction:"right"})}},kiosk:{init:function(){0==software_kiosk_activity?software_$(document).one("DOMMouseScroll keydown mousedown mousemove mousewheel",function(){software_$.ajax(software_path+software_directory+"/kiosk.php?action=update_activity"),software_kiosk_activity=!0,software.kiosk.detect_inactivity(),software.kiosk.show_logout_button()}):(software.kiosk.detect_inactivity(),software.kiosk.show_logout_button())},detect_inactivity:function(){var e=setTimeout(function(){software.kiosk.show_dialog()},1e3*software_kiosk_inactivity_time);software_$(document).on("DOMMouseScroll keydown mousedown mousemove mousewheel",function(){clearTimeout(e),e=setTimeout(function(){software.kiosk.show_dialog()},1e3*software_kiosk_inactivity_time)})},logout:function(){window.location.href=software_path+software_directory+"/kiosk.php?action=logout"},show_dialog:function(){var e,t;!0!==software_$("#software_kiosk_dialog").dialog("isOpen")&&(software_$("body").append('                    <div id="software_kiosk_dialog">                        <div id="software_kiosk_dialog_message">'+prepare_content_for_html(software_kiosk_dialog_message)+'</div>                        <div id="software_kiosk_dialog_buttons"><a id="software_kiosk_dialog_continue_button" class="software_button_primary">'+prepare_content_for_html(software_kiosk_continue_button_label)+'</a><a id="software_kiosk_dialog_logout_button" class="software_button_secondary">'+prepare_content_for_html(software_kiosk_logout_button_label)+'</a></div>                        <div id="software_kiosk_dialog_countdown">Please make a choice within <span id="software_kiosk_dialog_countdown_seconds">'+software_kiosk_dialog_time+" seconds</span>.</div>                    </div>"),software_$("#software_kiosk_dialog_continue_button").on("click",function(){software_$("#software_kiosk_dialog").dialog("close")}),software_$("#software_kiosk_dialog_logout_button").on("click",function(){software.kiosk.logout()}),software_$("#software_kiosk_dialog").dialog({autoOpen:!0,close:function(){clearTimeout(e),clearInterval(t),software_$("#software_kiosk_dialog").remove(),software_$("#software_kiosk_logout_button").fadeIn()},closeOnEscape:!1,dialogClass:"software mobile_dialog",draggable:!1,modal:!0,open:function(){software_$(".ui-dialog-titlebar-close").hide();var a=software_kiosk_dialog_time;t=setInterval(function(){if(0==(a-=1))clearInterval(t);else{var e="";a>1&&(e="s"),software_$("#software_kiosk_dialog_countdown_seconds").html(a+" second"+e)}},1e3),e=setTimeout(function(){!0===software_$("#software_kiosk_dialog").dialog("isOpen")&&software.kiosk.logout()},1e3*software_kiosk_dialog_time),software_$("#software_kiosk_logout_button").fadeOut()},resizable:!1,show:{effect:"fade"},width:400}))},show_logout_button:function(){software_$("body").append('<a id="software_kiosk_logout_button" class="software_button_secondary" style="bottom: 0; display: none; margin: 1em; position: fixed; right: 0; z-index: 2147483647">'+prepare_content_for_html(software_kiosk_logout_button_label)+"</a>"),software_$("#software_kiosk_logout_button").on("click",function(){software.kiosk.logout()}),software_$("#software_kiosk_logout_button").fadeIn()}},open_dialog:function(e){var t=e.class_name,a=e.modal,o=e.title,i=e.url,r=e.width,s=e.height;t=void 0===t?"":" "+t,void 0===s||"mobile"==software_device_type?s=.75*software_$(window).height():s+=25,void 0===a&&(a=!0),void 0!==r&&"mobile"!=software_device_type||(r=.75*software_$(window).width());var n=(new Date).getTime(),_=software_$('<iframe id="software_dialog_'+n+'" src="'+software.h(i)+'" frameBorder="0" style="border: none; display: block; margin: 0" allowfullscreen></iframe>');software_$("body").append(_),software_$("#software_dialog_"+n).dialog({autoOpen:!0,open:function(){software_$("#software_dialog_"+n).wrap('<div id="software_dialog_'+n+'_container" />'),software_$("#software_dialog_"+n+"_container").css({overflow:"auto","-webkit-overflow-scrolling":"touch"}),a&&software_$(".ui-widget-overlay").bind("click",function(){software_$("#software_dialog_"+n).dialog("close")})},dragStart:function(){software_$("body").append('<div class="software_overlay" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; z-index: 2147483647"></div>')},dragStop:function(){software_$(".software_overlay").remove()},resizeStart:function(){software_$("body").append('<div class="software_overlay" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; z-index: 2147483647"></div>')},resizeStop:function(){software_$(".software_overlay").remove()},close:function(){software_$("#software_dialog_"+n).remove(),software_$("#software_dialog_"+n+"_container").remove()},dialogClass:"software mobile_dialog"+t,height:s,modal:a,title:o,width:r,show:{effect:"fade"},hide:{effect:"fade"}})},output_email_link:function(e){document.write(this.get_rot13(this.Base64.decode(e))),software_$("#software_email_link_script").remove()},find:function(e,t,a){for(var o=0;o<e.length;o++)if(e[o][t]==a)return e[o]},prepare_price:function(e){var t=e.symbol,a=e.price,o=e.base_price,i=e.code;o||(a*=software.visitor_currency_exchange_rate);var r="";return a<0&&(r="-",a=Math.abs(a)),t||(t=software.visitor_currency_symbol),a=a.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,"),i=i?" "+i:software.visitor_currency_code_for_output,a='<span style="white-space: nowrap">'+r+t+a+software.h(i)+"</span>"},load:function(e){var t=e.module,a=e.complete;if(software.modules=software.modules||{},software.modules[t]=software.modules[t]||{},"complete"!=software.modules[t].status){if(software.modules[t].queue=software.modules[t].queue||[],software.modules[t].queue.push(a),"loading"!=software.modules[t].status){software.modules[t].status="loading";var o=document.createElement("script");if(o.onload=function(){software.modules[t].status="complete",software_$.each(software.modules[t].queue,function(e,t){t()}),software.modules[t].queue=[]},o.setAttribute("defer","defer"),"undefined"!=typeof software_environment&&"development"==software_environment)var i="src";else i="min";o.src=software_path+software_directory+"/"+t+"."+i+".js",document.body.appendChild(o)}}else a()}};